"use strict";(self["webpackChunktemplate_project"]=self["webpackChunktemplate_project"]||[]).push([[2085],{2085:function(e,a,t){t.r(a),t.d(a,{default:function(){return f}});var s=t(821);const r=(0,s._)("h4",null,"Reset Password",-1),o=(0,s.Uk)(" Send mail ");function l(e,a,t,l,i,m){const n=(0,s.up)("zSpacer"),d=(0,s.up)("zInput"),u=(0,s.up)("zLoaderButton"),c=(0,s.up)("zForm"),f=(0,s.up)("zDialog"),w=(0,s.Q2)("autofocus");return(0,s.wg)(),(0,s.j4)(f,{class:"w-11/12 sm:w-8/12 md:w-2/4 max-w-xs"},{header:(0,s.w5)((()=>[r])),default:(0,s.w5)((()=>[(0,s.Wm)(n,{space:"2"}),(0,s.Wm)(c,{state:i.form.state,"error-message":i.form.errorMessage,"vuelidate-object":i.v$,onValidate:m.sendCode},{actions:(0,s.w5)((()=>[(0,s.Wm)(u,{class:"w-full py-4 md:w-48 mt-1.5",type:"submit",loader:i.form.loading},{default:(0,s.w5)((()=>[o])),_:1},8,["loader"])])),default:(0,s.w5)((()=>[(0,s.wy)((0,s.Wm)(d,{modelValue:i.email,"onUpdate:modelValue":a[0]||(a[0]=e=>i.email=e),class:"mb-8",label:"Email","error-state":i.v$.email.$error,"on-error":"Incorrect email format"},null,8,["modelValue","error-state"]),[[w]])])),_:1},8,["state","error-message","vuelidate-object","onValidate"])])),_:1})}var i=t(2799),m=t(2416),n=t(9373),d={name:"TheResetPasswordDialog",components:{zDialog:i.Z},data(){return{email:"",v$:(0,m.ZP)(),form:{state:null,errorMessage:"",loading:!1}}},validations(){return{email:{required:n.C1,email:n.Do}}},methods:{async sendCode(e){if(this.form.state=null,e===STATUS_WORDS.ERROR)return;this.form.loading=!0;const a={email:this.email,redirectUrl:REDIRECT_URLS.RESET_PASSWORD},t=await this.$store.dispatch("auth/outSendResetCode",a);this.form.loading=!1,t.success?(this.toast$.success({summary:"An e-mail was sent to you",detail:"The password change reference was sent to your email"}),this.dialog$.hide("resetPassword")):(this.form.state=!1,this.form.errorMessage=t.data.errors[0].message)}}},u=t(3744);const c=(0,u.Z)(d,[["render",l]]);var f=c}}]);