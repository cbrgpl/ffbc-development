"use strict";(self["webpackChunktemplate_project"]=self["webpackChunktemplate_project"]||[]).push([[6674],{7362:function(){},8587:function(e,a,t){t.d(a,{Z:function(){return o}});var r=t(9373);const s=/\d{11}/;function o(e){return!r.BM.req(e)||s.test(e.replace(/\D/g,""))}},9272:function(e,a,t){t.r(a),t.d(a,{default:function(){return v}});var r=t(821);const s={class:"bg-black-lighten rounded-lg px-12 py-12 lg:py-10 flex flex-col max-w-xl m-auto"},o={class:"w-full flex flex-col lg:flex-row justify-between"},l={class:"flex flex-col lg:flex-row items-stretch justify-between"};function n(e,a,t,n,u,m){const d=(0,r.up)("zInput"),i=(0,r.up)("zLoaderButton"),c=(0,r.up)("zForm");return(0,r.wg)(),(0,r.iD)("div",s,[(0,r.Wm)(c,{"vuelidate-object":u.v$,onValidate:m.updateData},{default:(0,r.w5)((()=>[(0,r._)("div",o,[(0,r.Wm)(d,{modelValue:u.userData.firstName,"onUpdate:modelValue":a[0]||(a[0]=e=>u.userData.firstName=e),modelModifiers:{trim:!0},class:"personal-data__input lg:mr-8","on-error":"The name must be greater than 2 characters","error-state":u.v$.userData.firstName.$error,label:"Name"},null,8,["modelValue","error-state"]),(0,r.Wm)(d,{modelValue:u.userData.lastName,"onUpdate:modelValue":a[1]||(a[1]=e=>u.userData.lastName=e),modelModifiers:{trim:!0},class:"personal-data__input","on-error":"The surname must be greater than 2 characters","error-state":u.v$.userData.lastName.$error,label:"Surname"},null,8,["modelValue","error-state"])]),(0,r.Wm)(d,{modelValue:u.userData.phoneNumber,"onUpdate:modelValue":a[2]||(a[2]=e=>u.userData.phoneNumber=e),class:"personal-data__input",mask:"+# (###) ###-##-##","on-error":"Wrong phone format","error-state":u.v$.userData.phoneNumber.$error,label:"Phone Number"},null,8,["modelValue","error-state"]),(0,r.Wm)(d,{modelValue:u.userData.birthDate,"onUpdate:modelValue":a[3]||(a[3]=e=>u.userData.birthDate=e),class:"personal-data__input","error-state":u.v$.userData.birthDate.$error,"on-error":"Wrong date format",mask:"####.##.##",label:"year.mm.dd"},null,8,["modelValue","error-state"]),(0,r._)("div",l,[(0,r.Wm)(d,{modelValue:u.userData.age,"onUpdate:modelValue":a[4]||(a[4]=e=>u.userData.age=e),modelModifiers:{number:!0},class:"input--mb-0 lg:mr-8","error-state":u.v$.userData.age.$error,"on-error":"You must be over 18 years old",label:"age"},null,8,["modelValue","error-state"]),(0,r.Wm)(i,{type:"submit",loader:u.formLoader,class:"mt-14 lg:mt-0 py-4 flex-grow",text:"Update"},null,8,["loader"])])])),_:1},8,["vuelidate-object","onValidate"])])}var u=t(2416),m=t(7362),d=t(8587),i=t(9373);const c=/\d{4}\.\d{2}\.\d{2}/;function p(e){return!i.BM.req(e)||c.test(e)}function f(e){const a=new Date;return a.setFullYear(a.getFullYear()-18),!i.BM.req(e)||new Date(e.replace(/\D/g,"/"))<a}var h=t(8438),D={name:"PersonalData",data(){return{userData:this.$store.getters["user/userDataClone"],formLoader:!1,v$:(0,u.ZP)()}},validations(){return{userData:{firstName:{minLength:(0,m.minLength)(2)},lastName:{minLength:(0,m.minLength)(2)},phoneNumber:{phone:d.Z},birthDate:{date:p,adultDate:f},age:{minValue:(0,m.minValue)(18)}}}},methods:{async updateData(e){if(e===STATUS_WORDS.ERROR)return;this.formLoader=!0;const a=Object.assign({},this.userData),t=await h.userService.edit(a,this.$store.getters["token/access"]);200===t.response.status?(this.$store.commit("user/setUserData",t.data),this.toast$.success({summary:"Data successfully updated"})):this.toast$.error({summary:"Something went wrong...",detail:"When we updated the data, something went wrong"}),this.formLoader=!1}}},g=t(3744);const b=(0,g.Z)(D,[["render",n],["__scopeId","data-v-02d9b8ca"]]);var v=b}}]);