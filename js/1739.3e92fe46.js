"use strict";(self["webpackChunktemplate_project"]=self["webpackChunktemplate_project"]||[]).push([[1739],{1739:function(e,t,i){i.r(t),i.d(t,{default:function(){return w}});var a=i(821);const n=(0,a._)("h4",null,"Confirmation link",-1),o={class:"text-lg leading-tight mb-4"},s=(0,a.Uk)(" The confirmation link was sent to "),l=(0,a.Uk)(", please confirm the mail before continuing "),r={class:"flex flex-col w-min ml-auto"},m=(0,a.Uk)(" Resend verification link ");function c(e,t,i,c,u,d){const f=(0,a.up)("zTimer"),h=(0,a.up)("zLoaderButton"),b=(0,a.up)("zDialog");return(0,a.wg)(),(0,a.j4)(b,{class:"verification-dialog w-11/12 sm:w-8/12 md:w-2/4 max-w-md"},{header:(0,a.w5)((()=>[n])),footer:(0,a.w5)((()=>[(0,a._)("div",r,[(0,a.Wm)(f,{ref:d.timerRef,style:(0,a.j5)({opacity:!0&u.buttonDisabled}),class:"items-center mb-1 opacity-0",title:"Send again in","title-styles":"mr-2",sec:60,onTimeUp:d.unableButton},null,8,["style","onTimeUp"]),(0,a.Wm)(h,{disabled:u.buttonDisabled,loader:u.buttonLoader,class:"default-button",onClick:d.sendConfirmation},{default:(0,a.w5)((()=>[m])),_:1},8,["disabled","loader","onClick"])])])),default:(0,a.w5)((()=>[(0,a._)("div",o,[s,(0,a._)("strong",null,(0,a.zw)(u.email),1),l])])),_:1})}var u=i(2799),d=i(8243),f=i(8438),h={timer:null,components:{zDialog:u.Z,zTimer:d.Z},data(){return{email:localStorage.getItem("var_regEmail")||"email@example.com",buttonDisabled:!1,buttonLoader:!1}},methods:{async sendConfirmation(){if("email@example.com"===this.email)return void this.toast$.warn({summary:"No e-mail specified",detail:"You can’t send a confirmation link without an e-mail"});this.buttonLoader=!0;const e=await f.authService.resendVerificationLink({email:this.email,redirectUrl:"verificate"});this.buttonLoader=!1,200===e.response.status?(this.buttonDisabled=!0,this.toast$.success({detail:"The confirmation letter was sent!<br>If you can’t find the email, check out the spam"}),this.timer.startTimer()):400===e.response.status&&(this.toast$.error({detail:"Your mail has already been confirmed"}),this.dialog$.hide("verification"))},timerRef(e){this.timer=e},unableButton(){this.buttonDisabled=!1}}},b=i(3744);const p=(0,b.Z)(h,[["render",c]]);var w=p}}]);