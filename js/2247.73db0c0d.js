"use strict";(self["webpackChunktemplate_project"]=self["webpackChunktemplate_project"]||[]).push([[2247],{5265:function(s,e){e["Z"]=(s=/^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{6,})./)=>e=>s.test(e)},2247:function(s,e,r){r.r(e),r.d(e,{default:function(){return f}});var t=r(821);const a={class:"h-screen flex px-2.5 md:px-4"},o=(0,t.Uk)(" Reset ");function d(s,e,r,d,n,u){const m=(0,t.up)("zInput"),l=(0,t.up)("zLoaderButton"),w=(0,t.up)("zForm"),i=(0,t.Q2)("autofocus");return(0,t.wg)(),(0,t.iD)("div",a,[(0,t.Wm)(w,{class:"m-auto md:max-w-md",state:n.form.state,"vuelidate-object":d.v$,onValidate:u.resetPassword},{actions:(0,t.w5)((()=>[(0,t.Wm)(l,{class:"w-full py-4 mb-3.5 md:w-48 mt-1.5",type:"submit",loader:n.form.loading},{default:(0,t.w5)((()=>[o])),_:1},8,["loader"])])),default:(0,t.w5)((()=>[(0,t.wy)((0,t.Wm)(m,{modelValue:n.resetPasswordForm.password,"onUpdate:modelValue":e[0]||(e[0]=s=>n.resetPasswordForm.password=s),class:"mb-5",label:"Password","error-state":d.v$.resetPasswordForm.password.$error,"on-error":"Incorrect password format"},null,8,["modelValue","error-state"]),[[i]]),(0,t.Wm)(m,{modelValue:n.resetPasswordForm.passwordConfirmation,"onUpdate:modelValue":e[1]||(e[1]=s=>n.resetPasswordForm.passwordConfirmation=s),label:"Repeat Password",class:"mb-5 md:mb-8","error-state":d.v$.resetPasswordForm.passwordConfirmation.$error,"on-error":"Passwords are not equal"},null,8,["modelValue","error-state"])])),_:1},8,["state","vuelidate-object","onValidate"])])}var n=r(2416),u=r(9373),m=r(5265),l=r(8438),w=r(1239),i={name:"ResetPassword",props:{queryParams:{type:Object,required:!0}},setup(){return{v$:(0,n.ZP)()}},data(){return{form:{state:null,loading:!1},resetPasswordForm:{password:"",passwordConfirmation:""}}},methods:{async resetPassword(s){if(this.form.state=null,s===STATUS_WORDS.ERROR)return;this.form.loading=!0;const e={...this.resetPasswordForm,token:this.queryParams.get("token"),uidb64:this.queryParams.get("uidb64")},r=await l.authService.setNewPassword(e);if(200===r.httpResponse.status)this.toast$.success({summary:"The password was updated successfully"});else{if(400!==r.httpResponse.status)throw new w.zn("Got unexpected response status while reset password");this.toast$.warn({summary:"Something went wrong...",detail:"Try requesting password recovery again"})}this.$router.push({name:"ShopTmp"})}},validations(){return{resetPasswordForm:{password:{required:u.C1,password:(0,m.Z)()},passwordConfirmation:{required:u.C1,sameAsPassword:(0,u.sH)(this.resetPasswordForm.password)}}}}},p=r(3744);const c=(0,p.Z)(i,[["render",d]]);var f=c}}]);