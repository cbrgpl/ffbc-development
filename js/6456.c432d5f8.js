"use strict";(self["webpackChunktemplate_project"]=self["webpackChunktemplate_project"]||[]).push([[6456],{2858:function(e,t){t["Z"]=[{urn:"evening-gown",name:"Evening Gown",filters:{productType:1}},{urn:"shoes",name:"Shoes",filters:{productType:2}},{urn:"pants",name:"Pants",filters:{productType:3}}]},1352:function(e,t,i){i.d(t,{s:function(){return C}});var a=i(3781),s=i(714);i(1703);function n(e,t,i){if(t.set)t.set.call(e,i);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=i}}var r=i(9371);function o(e,t,i){var a=(0,r.Z)(e,t,"set");return n(e,a,i),i}var l=i(9614),c=i(8829),u=i(821),d=new WeakMap,h=new WeakMap,g=new WeakMap,p=new WeakSet;class m{constructor(){(0,a.Z)(this,p),(0,s.Z)(this,d,{writable:!0,value:(0,u.qj)([])}),(0,s.Z)(this,h,{writable:!0,value:(0,u.qj)({})}),(0,s.Z)(this,g,{writable:!0,value:(0,u.YP)((0,c.Z)(this,d),(e=>(0,l.Z)(this,p,f).call(this,e)))})}addObservable(e){(0,c.Z)(this,h)[e]=!1}addIntersections(e){e.forEach((e=>(0,c.Z)(this,d).push(e)))}resetState(){Object.keys((0,c.Z)(this,h)).forEach((e=>delete(0,c.Z)(this,h)[e])),(0,c.Z)(this,d).splice(0)}get schema(){return(0,c.Z)(this,h)}}function f(e){for(const t of e)(0,c.Z)(this,h)[t]=!0}var v=new WeakMap;class b{constructor(e,t){(0,s.Z)(this,v,{writable:!0,value:null}),o(this,v,new IntersectionObserver(t,e))}observe(e){for(const t of e)(0,c.Z)(this,v).observe(t)}unobserve(e){for(const t of e)(0,c.Z)(this,v).unobserve(t)}}var w=i(2482);class P{constructor(e){(0,w.Z)(this,"nodeBuffer",[]),this.addObservable=e}clearNodeBuffer(){this.nodeBuffer.splice(0)}get vueDirective(){return{created:(e,t)=>{e.setAttribute(`data-${P.OBSERVABLE_ATTR}`,t.value),this.nodeBuffer.push(e),this.addObservable(t.value)}}}}(0,w.Z)(P,"OBSERVABLE_ATTR","observable");var y=new WeakMap,S=new WeakMap,x=new WeakMap,Z=new WeakSet;class C{constructor(){(0,a.Z)(this,Z),(0,s.Z)(this,y,{writable:!0,value:null}),(0,s.Z)(this,S,{writable:!0,value:new m}),(0,s.Z)(this,x,{writable:!0,value:new P(((...e)=>(0,c.Z)(this,S).addObservable(...e)))})}init(e=null,t="0px 0px 0px 0px",i=0){const a={root:e,rootMargin:t,threshold:i},s=(...e)=>(0,l.Z)(this,Z,k).call(this,...e);o(this,y,new b(a,s))}observe(){const e=(0,c.Z)(this,x).nodeBuffer;(0,c.Z)(this,y).observe(e)}unobserve(){const e=(0,c.Z)(this,x).nodeBuffer;(0,c.Z)(this,y).unobserve(e),(0,c.Z)(this,S).resetState(),(0,c.Z)(this,x).clearNodeBuffer()}get schema(){return(0,c.Z)(this,S).schema}get directive(){return(0,c.Z)(this,x).vueDirective}get inited(){return null!==(0,c.Z)(this,y)}}function k(e){const t=P.OBSERVABLE_ATTR,i=e.filter((e=>e.isIntersecting)).map((e=>e.target.dataset[t]));(0,c.Z)(this,S).addIntersections(i)}},7828:function(e,t,i){i.d(t,{Z:function(){return O}});var a=i(821);function s(e,t,i,s,n,r){const o=(0,a.up)("zMedia"),l=(0,a.up)("zSlider");return(0,a.wg)(),(0,a.j4)(l,{"elements-count":r.mediaCount,class:"w-full h-36 border-b border-placeholder border-solid",onNewActiveElementNumber:t[0]||(t[0]=e=>r.setProductMediaShownByIndex(e))},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.media,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{key:e.original,class:"bg-black-lightest h-full w-full flex-shrink-0"},[(0,a.Wm)(o,{ref_for:!0,ref:r.pushMediaToBuffer,class:"h-full",original:e.display,preview:e.preview,"show-original":n.originalsVisibility[t],"auto-loading":r.mediaAutoLoading,"media-type":"image"},null,8,["original","preview","show-original","auto-loading"])])))),128))])),_:1},8,["elements-count"])}i(6699);const n={class:"relative overflow-hidden select-none"},r=["height","width"],o=(0,a._)("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),l=(0,a._)("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"},null,-1),c=[o,l],u=["height","width"],d=(0,a._)("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),h=(0,a._)("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"},null,-1),g=[d,h];function p(e,t,i,s,o,l){const d=(0,a.up)("ContentStrip"),h=(0,a.up)("ControlButton");return(0,a.wg)(),(0,a.iD)("div",n,[(0,a.Wm)(d,{"active-element":o.activeElementNumber,class:"w-full h-full"},{default:(0,a.w5)((()=>[(0,a.WI)(e.$slots,"default")])),_:3},8,["active-element"]),(0,a.Wm)(h,{class:"left-0",onClick:l.showPreviousElement},{default:(0,a.w5)((()=>[((0,a.wg)(),(0,a.iD)("svg",{xmlns:"http://www.w3.org/2000/svg",height:i.attributableControlSize,width:i.attributableControlSize,viewBox:"0 0 24 24",fill:"#ffffff"},c,8,r))])),_:1},8,["onClick"]),(0,a.Wm)(h,{class:"right-0",onClick:l.showNextElement},{default:(0,a.w5)((()=>[((0,a.wg)(),(0,a.iD)("svg",{xmlns:"http://www.w3.org/2000/svg",height:i.attributableControlSize,width:i.attributableControlSize,viewBox:"0 0 24 24",fill:"#ffffff"},g,8,u))])),_:1},8,["onClick"])])}const m={class:"absolute bottom-2/4 transform translate-y-2/4 px-3 lg:px-4 h-full hover:bg-opacity-30 hover:bg-black transition-colors"};function f(e,t,i,s,n,r){return(0,a.wg)(),(0,a.iD)("button",m,[(0,a.WI)(e.$slots,"default")])}var v={name:"ControlButton"},b=i(3744);const w=(0,b.Z)(v,[["render",f]]);var P=w;const y={ref:"strip-wrapper",class:"content-strip overflow-hidden"};function S(e,t,i,s,n,r){return(0,a.wg)(),(0,a.iD)("div",y,[(0,a._)("div",{style:(0,a.j5)(r.stripTranslateStyle),class:"h-full flex flex-nowrap transition-transform duration-300 ease-out"},[(0,a.WI)(e.$slots,"default",{},void 0,!0)],4)],512)}var x={name:"ContentStrip",props:{activeElement:{type:Number,required:!1}},data(){return{translateDelta:0}},computed:{translatedDistance(){return this.translateDelta*this.activeElement},stripTranslateStyle(){return{transform:`translateX(-${this.translatedDistance}px)`}}},mounted(){this.updateTranslateDelta(),this.setResizeEvent(this.onResizeHandler)},beforeUnmount(){this.removeResizeEvent(this.onResizeHandler)},methods:{updateTranslateDelta(){const e=this.$refs["strip-wrapper"];this.setTranslateDelta(e)},setTranslateDelta(e){e&&setTimeout((()=>{this.translateDelta=parseFloat(window.getComputedStyle(e).width)}),0)},onResizeHandler(e){this.updateTranslateDelta()},setResizeEvent(e){window.addEventListener("resize",e)},removeResizeEvent(e){window.removeEventListener("resize",e)}}};const Z=(0,b.Z)(x,[["render",S],["__scopeId","data-v-06835e46"]]);var C=Z;function k(e,t,i,s,n,r){return(0,a.wg)(),(0,a.iD)("div")}var E={name:"Navigation",emits:["changeActiveImage"]};const T=(0,b.Z)(E,[["render",k]]);var z=T,_={name:"ZSlider",components:{ControlButton:P,ContentStrip:C,Navigation:z},props:{attributableControlSize:{type:String,default:"25px"},useNavigation:{type:Boolean,default:!0},elementsCount:{type:Number,default:0}},emits:["newActiveElementNumber"],data(){return{activeElementNumber:0}},watch:{activeElementNumber:{handler(e){this.$emit("newActiveElementNumber",e)},immediate:!0}},methods:{showNextElement(){this.changeActiveElementNumber(1)},showPreviousElement(){this.changeActiveElementNumber(-1)},changeActiveElementNumber(e){const t=this.elementsCount-1,i=0;1===e&&this.activeElementNumber===t?this.activeElementNumber=i:-1===e&&this.activeElementNumber===i?this.activeElementNumber=t:this.activeElementNumber+=e}}};const B=(0,b.Z)(_,[["render",p]]);var N=B,D={name:"ZShopProductSlider",components:{zSlider:N},props:{media:{type:Array,required:!0},intersected:{type:Boolean,default:null}},data(){return{originalsVisibility:[]}},computed:{mediaCount(){return this.media.length},mediaAutoLoading(){return null===this.intersected}},watch:{intersected:{handler(e){if(e)for(const t of this.mediaBuffer)t.startLoading()},immediate:!0}},created(){this.setDisplaySrcsVisibility(),this.setNonReactiveMediaBuffer()},methods:{setDisplaySrcsVisibility(){const e=new Array(this.mediaCount);this.originalsVisibility=e.fill(!1)},setNonReactiveMediaBuffer(){this.mediaBuffer=[]},setProductMediaShownByIndex(e){this.originalsVisibility[e]=!0},pushMediaToBuffer(e){this.mediaBuffer.includes(e)||this.mediaBuffer.push(e)}}};const $=(0,b.Z)(D,[["render",s]]);var O=$},6456:function(e,t,i){i.r(t),i.d(t,{default:function(){return R}});var a=i(821);const s={class:"relative"},n={ref:"contentContainer",class:"h-full w-full overflow-auto"},r={class:"grid grid-cols-2 gap-x-2 gap-y-8 md:grid-cols-3 2xl:grid-cols-4 items-stretch mb-6"};function o(e,t,i,o,l,c){const u=(0,a.up)("zProductCard"),d=(0,a.up)("zPaginationPage"),h=(0,a.Q2)("observable");return(0,a.wg)(),(0,a.iD)("div",s,[(0,a._)("div",n,[(0,a.Wm)(d,{ref:"paginationPage",class:"flex flex-col min-h-full container shop-main_padding mx-auto","item-count":l.totalProducts,"per-page":2,onSetPage:c.loadNewPage},{default:(0,a.w5)((()=>[(0,a._)("div",r,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.products,((t,i)=>(0,a.wy)(((0,a.wg)(),(0,a.j4)(u,{key:t.title,product:t,intersected:e.$options.reactiveObserver.schema[i]},null,8,["product","intersected"])),[[h,i]]))),128))])])),_:1},8,["item-count","onSetPage"])],512)])}const l={class:"flex flex-col w-full h-max min-h-full"},c={class:"mb-auto"};function u(e,t,i,s,n,r){const o=(0,a.up)("zPagination");return(0,a.wg)(),(0,a.iD)("div",l,[(0,a._)("div",c,[(0,a.WI)(e.$slots,"default")]),(0,a.Wm)(o,{"current-page":n.page,"total-pages":r.totalPages,loading:n.loading,onSetPage:r.emitSetPage},null,8,["current-page","total-pages","loading","onSetPage"])])}const d={key:0,class:"absolute right-2/4 bottom-2/4 transform translate-x-2/4 translate-y-2/4"},h={class:"relative w-12 h-12"},g={class:"flex mx-4"},p=["onClick"];function m(e,t,i,s,n,r){const o=(0,a.up)("zLoader"),l=(0,a.up)("zIconBase");return(0,a.wg)(),(0,a.iD)("div",{class:(0,a.C_)(["flex items-stretch justify-center select-none relative",r.paginationDisabledClasses])},[i.loading?((0,a.wg)(),(0,a.iD)("div",d,[(0,a._)("div",h,[(0,a.Wm)(o,{size:"48px"})])])):(0,a.kq)("",!0),(0,a._)("button",{class:"pagination-surface pagination-item",onClick:t[0]||(t[0]=e=>r.changePageByDirection(-1))},[(0,a.Wm)(l,{class:"transform rotate-180",width:"26px",icon:"doubleArrow"})]),(0,a._)("div",g,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.getPages,(e=>((0,a.wg)(),(0,a.iD)("span",{key:e,class:(0,a.C_)(["pagination-surface pagination-item mr-2.5 last:mr-0",r.getPageNumberClasses(e)]),onClick:t=>r.emitSetPage(e)},(0,a.zw)(e),11,p)))),128))]),(0,a._)("button",{class:"pagination-surface pagination-item",onClick:t[1]||(t[1]=e=>r.changePageByDirection(1))},[(0,a.Wm)(l,{width:"26px",icon:"doubleArrow"})])],2)}var f={name:"ZPagination",props:{currentPage:{type:Number,required:!0},totalPages:{type:Number,required:!0},loading:{type:Boolean,required:!0},displayPageQnt:{type:Number,default:5,validator:e=>e%2===1}},emits:["setPage"],data(){return{scenarios:{aboutStart:-1,middle:0,aboutEnd:1}}},computed:{getPages(){if(this.scenario===this.scenarios.aboutStart){const e=this.totalPages>this.displayPageQnt?this.displayPageQnt:this.totalPages;return this.getArrayOfPages(1,e)}if(this.scenario===this.scenarios.middle){const e=this.currentPage-this.distanceToEdge,t=this.currentPage+this.distanceToEdge;return this.getArrayOfPages(e,t)}{let e=this.totalPages-this.displayPageQnt+1;return e<1&&(e=1),this.getArrayOfPages(e,this.totalPages)}},scenario(){return this.currentPage<this.startOfMiddle?this.scenarios.aboutStart:this.startOfMiddle<=this.currentPage&&this.currentPage<=this.endOfMiddle?this.scenarios.middle:this.scenarios.aboutEnd},endOfMiddle(){return this.totalPages-2},distanceToEdge(){return Math.floor(this.displayPageQnt/2)},startOfMiddle(){return Math.ceil(this.displayPageQnt/2)},paginationDisabledClasses(){return{pagination_loading:this.loading}}},methods:{getArrayOfPages(e,t){const i=[];for(let a=e;a<=t;++a)i.push(a);return i},changePageByDirection(e){if(!this.checkEmergencyCase(e))return;const t=this.currentPage+e;this.emitSetPage(t)},checkEmergencyCase(e){return(-1!==e||1!==this.currentPage)&&(1!==e||this.currentPage!==this.totalPages)},emitSetPage(e){this.$emit("setPage",e)},getPageNumberClasses(e){return{"pagination-item_active":e===this.currentPage}}}},v=i(3744);const b=(0,v.Z)(f,[["render",m],["__scopeId","data-v-5dd3e8a0"]]);var w=b,P=i(1405),y={name:"ZPaginationPage",components:{zPagination:w},props:{itemCount:{type:[Number,null],default:null},perPage:{type:Number,default:24}},emits:["setPage"],expose:["setLoadingState","setFirstPage","scrollToTop"],data(){return{page:null,loading:!1}},computed:{totalPages(){const e=null!==this.itemCount;return e?Math.ceil(this.itemCount/this.perPage):1}},created(){this.setStartPage()},mounted(){this.emitSetPage(this.page)},methods:{setLoadingState(e){this.loading=e},setFirstPage(){this.emitSetPage(1)},scrollToTop(){const e=P.Z.getScrollableParents(this.$el)[0];e&&e.scrollTo(0,0)},setStartPage(){const e=location.hash,t=e.match(/\d+/),i=null!==t?parseInt(t[0]):1;this.page=i},emitSetPage(e){this.page=e,this.setLocationHash(e),this.$emit("setPage",e,this.perPage)},setLocationHash(e){location.hash="#"+e}}};const S=(0,v.Z)(y,[["render",u]]);var x=S;const Z={class:"flex flex-col bg-black-lighten border-placeholder border-opacity-75 border-solid border rounded-md overflow-hidden"},C={class:"text-sm leading-4 sm:text-lg font-medium sm:leading-6 mb-4"},k={class:"mt-auto select-none"},E={class:"flex flex-col lg:flex-row lg:items-end justify-between"},T={class:"flex flex-col sm:flex-row lg:flex-col justify-between mb-1.5 lg:mb-0"},z={key:0,class:"mb-2 text-sm sm:text-base lg:mb-1"},_={class:"text-sm sm:text-base text-placeholder font-mono font-semibold underline mb-2 lg:mb-0"};function B(e,t,i,s,n,r){const o=(0,a.up)("zProductSlider"),l=(0,a.up)("zIconButton");return(0,a.wg)(),(0,a.iD)("div",Z,[(0,a.Wm)(o,{class:"h-72 md:h-96",media:i.product.media,intersected:i.intersected},null,8,["media","intersected"]),(0,a._)("div",{class:"flex flex-col flex-grow px-3 pt-1.5 pb-4 cursor-pointer",onClick:t[0]||(t[0]=(...e)=>r.navigateToProduct&&r.navigateToProduct(...e))},[(0,a._)("h4",C,(0,a.zw)(i.product.title),1),(0,a._)("div",k,[(0,a._)("div",E,[(0,a._)("div",T,[r.containsInStock?((0,a.wg)(),(0,a.iD)("div",z," Quantity in stock - "+(0,a.zw)(i.product.stockQnt),1)):(0,a.kq)("",!0),(0,a._)("span",_," $"+(0,a.zw)(i.product.price),1)]),(0,a.Wm)(l,{class:"w-full py-1.5 sm:py-3 lg:w-auto lg:py-1.5 lg:px-3",variant:"safety",icon:"cart","icon-title":"Add To Cart","icon-size":20,onClick:(0,a.iM)(r.addToCard,["stop"])},null,8,["onClick"])])])])])}var N=i(7828),D={name:"ShopProductCard",components:{zProductSlider:N.Z},props:{product:{type:Object,required:!0},intersected:{type:Boolean}},computed:{containsInStock(){return 0!==this.product.stockQnt}},methods:{addToCard(){this.dialog$.show("addToCart",{product:this.product})},navigateToProduct(){this.$router.push({name:"ShopProductPage",params:{productId:this.product.id}})}}};const $=(0,v.Z)(D,[["render",B]]);var O=$,M=i(1352),W=i(2858);const A=new M.s;var I={name:"ProductCatalog",reactiveObserver:A,directives:{observable:A.directive},components:{zProductCard:O,zPaginationPage:x},props:{urn:{type:String,required:!0}},data(){return{products:[],totalProducts:null}},computed:{defaultSectionUrn(){return W.Z[0].urn},sectionFilters(){return W.Z.find((e=>e.urn===this.urn)).filters}},watch:{urn:{handler(){this.redirectOnWrongSectionName(),this.$refs.paginationPage&&this.$refs.paginationPage.setFirstPage()},immediate:!0}},mounted(){this.initReactiveObserver()},beforeUnmount(){this.$options.reactiveObserver.unobserve()},methods:{initReactiveObserver(){const e=this.$refs.contentContainer;this.$options.reactiveObserver.init(e,"0px 0px 150px 0px")},redirectOnWrongSectionName(){W.Z.find((e=>e.urn===this.urn))||this.$router.push({name:"ShopProductCatalog",params:{urn:this.defaultSectionUrn}})},async loadNewPage(e,t){this.$refs.paginationPage.setLoadingState(!0);const i=await this.getProducts(e,t);if(!i.success)return this.toast$.warn({summary:"Was not found",detail:`The page with number ${e} is not exists`}),void this.$refs.paginationPage.setFirstPage();this.$options.reactiveObserver.unobserve(),this.$refs.paginationPage.scrollToTop();const a=i.data;this.products=a.products,this.totalProducts=a.count,setTimeout((()=>{this.$refs.paginationPage.setLoadingState(!1),this.$options.reactiveObserver.observe()}),0)},async getProducts(e,t){const i={...this.sectionFilters,page:e,perPage:t},a=await this.$store.dispatch("product/outGetProducts",i);return a}}};const L=(0,v.Z)(I,[["render",o]]);var R=L}}]);