"use strict";(self["webpackChunktemplate_project"]=self["webpackChunktemplate_project"]||[]).push([[3595],{5852:function(e,r,t){t.d(r,{Z:function(){return d}});var s=t(821);const o={class:"relative"},u={class:"break-words pl-2 mb-1"},a={key:0,class:"absolute text-danger right-2 top-0"};function i(e,r,t,i,n,l){const m=(0,s.up)("zInput");return(0,s.wg)(),(0,s.iD)("label",o,[(0,s._)("h5",u,(0,s.zw)(t.formField),1),(0,s.Wm)(m,(0,s.dG)({"error-state":t.error,"on-error":"Field is required",mask:"9999"},e.$attrs,{size:"sm",type:"text",onInput:l.emitUpdateModelValue}),{"error-label":(0,s.w5)((({errorState:e,onError:r})=>[e?((0,s.wg)(),(0,s.iD)("h5",a,(0,s.zw)(r),1)):(0,s.kq)("",!0)])),_:1},16,["error-state","onInput"])])}var n={name:"MeasureFieldInput",inheritAttrs:!1,props:{formField:{type:String,required:!0},error:{type:Boolean,default:!1}},methods:{emitUpdateModelValue(e){this.$emit("update:modelValue",e.target.value)}}},l=t(3744);const m=(0,l.Z)(n,[["render",i]]);var d=m},9153:function(e,r,t){t.d(r,{Z:function(){return b}});var s=t(821);const o={class:"underline mb-3"},u={class:"grid grid-cols-1 justify-between items-end sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-x-4 md:gap-x-6 gap-y-3"};function a(e,r,t,a,i,n){return(0,s.wg)(),(0,s.iD)("form",{class:"container mx-auto",onSubmit:r[0]||(r[0]=(0,s.iM)(((...e)=>n.submitForm&&n.submitForm(...e)),["stop","prevent"]))},[(0,s._)("h4",o,(0,s.zw)(t.title),1),(0,s._)("div",u,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.form,((e,r)=>((0,s.wg)(),(0,s.j4)((0,s.LL)(t.measureFieldComponent),{key:r,modelValue:e.value,"onUpdate:modelValue":r=>e.value=r,modelModifiers:{number:!0},"form-field":e.name,error:a.v$[r].$error},null,8,["modelValue","onUpdate:modelValue","form-field","error"])))),128))]),(0,s._)("div",null,[(0,s.WI)(e.$slots,"formActions")])],32)}var i=t(2416),n=t(9373),l=t(5852);const m=e=>{const r=(0,s.Fl)((()=>(0,s.qj)(d(e.formFields,c)))),t=(0,s.Fl)((()=>d(e.formFields,f)));return{form:r,validations:t}},d=(e,r)=>{const t={};for(const s of e)t[s.id]=r(s);return t},c=e=>({value:e.value,id:e.id,name:e.name}),f=()=>({value:{required:n.C1,numeric:n.uR}});var p={name:"MeasureForm",emit:["measureSubmit"],expose:["submitForm"],props:{formFields:{type:Array,required:!0},measureFieldComponent:{type:Object,default:l.Z},title:{type:String,default:""}},setup(e){const{form:r,validations:t}=m(e),s=(0,i.ZP)(t,r);return{v$:s,form:r}},watch:{formFields:{handler(){this.v$.$reset()},flush:"post"}},methods:{submitForm(){this.v$.$reset(),this.v$.$touch(),this.v$.$error||this.$emit("measureSubmit",this.form)}}},h=t(3744);const v=(0,h.Z)(p,[["render",a]]);var b=v},3595:function(e,r,t){t.r(r),t.d(r,{default:function(){return b}});var s=t(821);const o={class:"flex flex-col"},u=(0,s._)("h4",{class:"mb-3"}," Test page ",-1);function a(e,r,t,a,i,n){const l=(0,s.up)("zMultipleMeasures");return(0,s.wg)(),(0,s.iD)("div",o,[u,(0,s.Wm)(l,{ref:"form",class:"mb-8",measures:i.measures,onSubmitted:n.test},null,8,["measures","onSubmitted"]),(0,s._)("pre",null,"      "+(0,s.zw)(i.measures)+"\n    ",1)])}const i={class:"mb-6"},n=(0,s.Uk)(" Submit ");function l(e,r,t,o,u,a){const l=(0,s.up)("zMeasureForm"),m=(0,s.up)("zButton");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",i,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.measures,((e,r)=>((0,s.wg)(),(0,s.j4)(l,{key:r,ref_for:!0,ref:"measure-"+r,"form-fields":e,onMeasureSubmit:a.collectMeasure},null,8,["form-fields","onMeasureSubmit"])))),128))]),(0,s.Wm)(m,{class:"w-full md:w-28 py-3",onClick:a.submit},{default:(0,s.w5)((()=>[n])),_:1},8,["onClick"])])}var m=t(9153),d={name:"ZMultipleMeasures",expose:["submit"],components:{zMeasureForm:m.Z},props:{measures:{type:Array,required:!0}},emits:["submitted"],data(){return{measureValues:[]}},watch:{measureValues(e){e.length===this.measures.length&&this.$emit("submitted",this.measureValues)}},methods:{collectMeasure(e){this.measureValues.push(e)},submit(){this.measureValues=[];for(const e in this.$refs)this.$refs[e].submitForm()}}},c=t(3744);const f=(0,c.Z)(d,[["render",l]]);var p=f,h={name:"Preview",components:{zMultipleMeasures:p},data(){return{loading:!0,measures:[[{id:"q",name:"q",value:10},{id:"w",name:"w"},{id:"e",name:"e"}],[{id:"a",name:"a",value:65},{id:"d",name:"d"},{id:"c",name:"c"}]]}},methods:{submitForm(){this.$refs.form.submitForm()},test(e){console.log(e)}}};const v=(0,c.Z)(h,[["render",a]]);var b=v}}]);