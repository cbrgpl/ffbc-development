"use strict";(self["webpackChunktemplate_project"]=self["webpackChunktemplate_project"]||[]).push([[3263],{501:function(e,r){r["Z"]={NATURAL:{id:1,value:"Natural"},IMPLANTS:{id:2,value:"Implants"}}},1883:function(e,r,s){s.d(r,{ZS:function(){return o},rE:function(){return l}});const t={dateStyle:"short"};function l(e=t){const r=new Intl.DateTimeFormat("en-EN",e);return function(e){return r.formatToParts(new Date(e))}}function o(e){return e.replace(/\./g,"-")}},8587:function(e,r,s){s.d(r,{Z:function(){return o}});var t=s(9373);const l=/\d{11}/;function o(e){return!t.BM.req(e)||l.test(e.replace(/\D/g,""))}},3263:function(e,r,s){s.r(r),s.d(r,{default:function(){return R}});var t=s(821);const l=(0,t._)("h4",{class:"mb-3.5 underline"}," My name: ",-1),o={class:"flex flex-col"},a={class:"form-field"},u=(0,t._)("small",{class:"text-placeholder font-semibold"}," Field is required ",-1),i={class:"form-field"},m=(0,t._)("small",{class:"text-placeholder font-semibold"}," Field is required ",-1),d=(0,t._)("h4",{class:"mb-3.5 underline"}," My parameters: ",-1),n={class:"form-field"},c=(0,t._)("small",{class:"text-placeholder font-semibold"}," Field is required ",-1),f={class:"flex flex-col"},p=(0,t._)("h4",{class:"mb-3.5 underline"}," Address: ",-1),b={class:"flex flex-col lg:flex-wrap"},h={class:"form-field"},F=(0,t._)("small",{class:"text-placeholder font-semibold"}," Field is required ",-1),g={class:"form-field"},v=(0,t._)("small",{class:"text-placeholder font-semibold"}," Field is required ",-1),V={class:"form-field"},y=(0,t._)("small",{class:"text-placeholder font-semibold"}," Field is required ",-1),_=(0,t._)("h4",{class:"mb-3.5 underline"}," General Info: ",-1),U={class:"form-field"},q=(0,t._)("small",{class:"text-placeholder font-semibold"}," Field is required ",-1),$={class:"pl-4 py-3 pr-2"},N={class:"pl-2 py-3"},M={class:"form-actions flex justify-end col-start-3 col-span-2"},w=(0,t.Uk)(" Update ");function x(e,r,s,x,D,T){const W=(0,t.up)("zInput"),S=(0,t.up)("zSelect"),C=(0,t.up)("zLoaderButton"),k=(0,t.up)("zForm");return(0,t.wg)(),(0,t.iD)("div",null,[(0,t.Wm)(k,{class:"lg:grid grid-cols-1 lg:grid-cols-4 lg:gap-x-20",state:D.form.state,"error-message":D.form.errorMessage,"success-message":D.form.successMessage,"vuelidate-object":x.v$,onValidate:T.updateUser},{actions:(0,t.w5)((()=>[(0,t._)("div",M,[(0,t.Wm)(C,{class:"form-button",type:"submit",loader:D.form.loading},{default:(0,t.w5)((()=>[w])),_:1},8,["loader"])])])),default:(0,t.w5)((()=>[(0,t._)("section",null,[l,(0,t._)("div",o,[(0,t._)("div",a,[(0,t.Wm)(W,{modelValue:D.userForm.firstName,"onUpdate:modelValue":r[0]||(r[0]=e=>D.userForm.firstName=e),modelModifiers:{trim:!0},label:"First Name","error-state":x.v$.userForm.firstName.$error,"on-error":"First name is required"},null,8,["modelValue","error-state"]),u]),(0,t._)("div",i,[(0,t.Wm)(W,{modelValue:D.userForm.lastName,"onUpdate:modelValue":r[1]||(r[1]=e=>D.userForm.lastName=e),modelModifiers:{trim:!0},label:"Last Name","error-state":x.v$.userForm.lastName.$error,"on-error":"Last name is required"},null,8,["modelValue","error-state"]),m])])]),(0,t._)("section",null,[d,(0,t._)("div",n,[(0,t.Wm)(W,{modelValue:D.userForm.height,"onUpdate:modelValue":r[2]||(r[2]=e=>D.userForm.height=e),modelModifiers:{number:!0},label:"Growth",mask:"999","error-state":x.v$.userForm.height.$error,"on-error":"required",class:"mb-0.5"},null,8,["modelValue","error-state"]),c]),(0,t.Wm)(W,{modelValue:D.userForm.age,"onUpdate:modelValue":r[3]||(r[3]=e=>D.userForm.age=e),modelModifiers:{number:!0},class:"form-field",label:"Age",mask:"99","error-state":x.v$.userForm.age.$error,"on-error":"required"},null,8,["modelValue","error-state"])]),(0,t._)("section",f,[p,(0,t._)("div",b,[(0,t._)("div",h,[(0,t.Wm)(W,{modelValue:D.userForm.street,"onUpdate:modelValue":r[4]||(r[4]=e=>D.userForm.street=e),modelModifiers:{trim:!0},label:"Street","error-state":x.v$.userForm.street.$error,"on-error":"required",class:"mb-0.5"},null,8,["modelValue","error-state"]),F]),(0,t._)("div",g,[(0,t.Wm)(W,{modelValue:D.userForm.city,"onUpdate:modelValue":r[5]||(r[5]=e=>D.userForm.city=e),modelModifiers:{trim:!0},label:"City","error-state":x.v$.userForm.city.$error,"on-error":"required",class:"mb-0.5"},null,8,["modelValue","error-state"]),v]),(0,t._)("div",V,[(0,t.Wm)(W,{modelValue:D.userForm.country,"onUpdate:modelValue":r[6]||(r[6]=e=>D.userForm.country=e),modelModifiers:{trim:!0},label:"Country","error-state":x.v$.userForm.country.$error,"on-error":"required",class:"mb-0.5"},null,8,["modelValue","error-state"]),y]),(0,t.Wm)(W,{modelValue:D.userForm.state,"onUpdate:modelValue":r[7]||(r[7]=e=>D.userForm.state=e),modelModifiers:{trim:!0},class:"form-field",label:"State"},null,8,["modelValue"])])]),(0,t._)("section",null,[_,(0,t.Wm)(W,{modelValue:D.userForm.phoneNumber,"onUpdate:modelValue":r[8]||(r[8]=e=>D.userForm.phoneNumber=e),class:"form-field",label:"Phone number",mask:"+9 (999) 999 99-99","error-state":x.v$.userForm.phoneNumber.$error,"on-error":"required"},null,8,["modelValue","error-state"]),(0,t._)("div",U,[(0,t.Wm)(W,{modelValue:D.userForm.instagramUrl,"onUpdate:modelValue":r[9]||(r[9]=e=>D.userForm.instagramUrl=e),modelModifiers:{trim:!0},label:"Instagram Url","error-state":x.v$.userForm.instagramUrl.$error,"on-error":"required",class:"mb-0.5"},null,8,["modelValue","error-state"]),q]),(0,t.Wm)(W,{modelValue:D.userForm.birthDate,"onUpdate:modelValue":r[10]||(r[10]=e=>D.userForm.birthDate=e),class:"form-field",mask:"99.99.9999",label:"Birth date mm.dd.yyyy","on-error":"required"},null,8,["modelValue"]),(0,t.Wm)(S,{modelValue:D.userForm.bustType,"onUpdate:modelValue":r[11]||(r[11]=e=>D.userForm.bustType=e),class:"form-field",list:T.bustTypes,"item-accesser":e=>e[1].id},{visible:(0,t.w5)((({value:e})=>[(0,t._)("div",$,(0,t.zw)("string"===typeof e?e:e[1].value),1)])),listItem:(0,t.w5)((e=>[(0,t._)("div",N,(0,t.zw)(e[1].value),1)])),_:1},8,["modelValue","list","item-accesser"])])])),_:1},8,["state","error-message","success-message","vuelidate-object","onValidate"])])}var D=s(2416),T=s(9373),W=s(8587);function S(){return{userForm:{firstName:{required:T.C1},lastName:{required:T.C1},street:{required:T.C1},city:{required:T.C1},country:{required:T.C1},phoneNumber:{phone:W.Z},instagramUrl:{required:T.C1,url:T.HQ},height:{required:T.C1,numeric:T.uR,minLength:(0,T.Ei)(3),between:(0,T.vX)(99,250)},contactServices:{},age:{numeric:T.uR,between:(0,T.vX)(18,99)}}}}var C=s(4055),k=s(1883),j=s(501),Z={name:"UserMe",setup(){return{v$:(0,D.ZP)()}},data(){return{form:{state:null,errorMessage:"",successMessage:"",loading:!1},userForm:{firstName:"",lastName:"",street:"",city:"",country:"",state:"",zipcode:"",phoneNumber:"",instagramUrl:"",birthDate:"",height:"",age:"",bustType:""},contactServices:{}}},computed:{bustTypes(){return Object.entries(j.Z)}},created(){this.fillForm()},methods:{async updateUser(e){if(e===STATUS_WORDS.ERROR)return;this.form.loading=!0;const r=this.prepareDataToSend(this.userForm),s=await this.$store.dispatch("user/updateUser",r);this.form.loading=!1,s.success&&this.toast$.success({summary:"Data successful updated"})},prepareDataToSend(e){const r={...e,...e.address};return delete r.address,r.birthDate?r.birthDate=(0,k.ZS)(r.birthDate):delete r.birthDate,r.email=this.$store.getters["user/email"],r},changeBustType(e){const r=Object.entries(this.bustTypes).find((r=>r[1].value===e.target.value));this.userForm.bustType=r[1].id},fillForm(){const e=this.$store.getters["user/userData"],r=Object.keys(this.userForm);this.userForm=(0,C.pv)(e,r)}},validations:S()},z=s(3744);const I=(0,z.Z)(Z,[["render",x]]);var R=I}}]);