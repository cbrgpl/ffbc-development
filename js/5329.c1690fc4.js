"use strict";(self["webpackChunktemplate_project"]=self["webpackChunktemplate_project"]||[]).push([[5329],{7027:function(s,e){e["Z"]=["Password must contains one number ","Password must contains one big symbol","Password must contains one special symbol","Password must contains six or more symbol"]},5265:function(s,e){e["Z"]=(s=/^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{6,})./)=>e=>s.test(e)},5329:function(s,e,o){o.r(e),o.d(e,{default:function(){return k}});var r=o(821);const t=s=>((0,r.dD)("data-v-6d43dcb0"),s=s(),(0,r.Cn)(),s),a={class:"flex flex-col sm:flex-row"},i={class:"mr-0 sm:mr-16 mb-5"},n=t((()=>(0,r._)("h4",{class:"mb-1 underline"}," Email: ",-1)));function d(s,e,o,t,d,l){const m=(0,r.up)("zButton"),c=(0,r.up)("ChangePasswordSection");return(0,r.wg)(),(0,r.iD)("div",a,[(0,r._)("div",i,[n,(0,r.Wm)(m,{disabled:"",class:"locale-text-white px-3 py-1.5"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,r.zw)(l.email),1)])),_:1})]),(0,r.Wm)(c)])}const l=(0,r._)("h4",{class:"mb-1 underline"}," Password: ",-1),m=(0,r.Uk)(" Change Password "),c={class:"form-actions flex justify-end"},u=(0,r.Uk)(" Change ");function w(s,e,o,t,a,i){const n=(0,r.up)("zButton"),d=(0,r.up)("zTooltipInput"),w=(0,r.up)("zInput"),f=(0,r.up)("zLoaderButton"),p=(0,r.up)("zForm"),h=(0,r.up)("AccountSection");return(0,r.wg)(),(0,r.j4)(h,{ref:"account-section","actions-disabled":a.showFormDisabled,class:"flex flex-col items-start","button-title":"Change Password",onFormVisibilityToggled:i.toggleShowFormDisabled},{default:(0,r.w5)((()=>[l,(0,r.Wm)(n,{disabled:"",class:"locale-text-white mb-4 tracking-widest font-mono px-3 py-1.5"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,r.zw)(i.randomNumberOfStars),1)])),_:1})])),action:(0,r.w5)((()=>[(0,r.Wm)(n,{disabled:a.showFormDisabled,class:"w-full sm:w-auto px-4 py-3.5 mb-4"},{default:(0,r.w5)((()=>[m])),_:1},8,["disabled"])])),form:(0,r.w5)((()=>[(0,r.Wm)(p,{state:a.form.state,"error-message":a.form.errorMessage,"success-message":a.form.successMessage,"vuelidate-object":t.v$,onValidate:i.updatePassword},{actions:(0,r.w5)((()=>[(0,r._)("div",c,[(0,r.Wm)(f,{class:"form-button",type:"submit",loader:a.form.loading},{default:(0,r.w5)((()=>[u])),_:1},8,["loader"])])])),default:(0,r.w5)((()=>[(0,r.Wm)(d,{modelValue:a.changePasswordForm.password,"onUpdate:modelValue":e[0]||(e[0]=s=>a.changePasswordForm.password=s),modelModifiers:{trim:!0},class:"form-field",type:"password",label:"Password","error-state":t.v$.changePasswordForm.password.$error,"on-error":"Password does not match to requirements","password-requirements":a.passwordRequirements},null,8,["modelValue","error-state","password-requirements"]),(0,r.Wm)(w,{modelValue:a.changePasswordForm.passwordConfirmation,"onUpdate:modelValue":e[1]||(e[1]=s=>a.changePasswordForm.passwordConfirmation=s),modelModifiers:{trim:!0},class:"form-field",type:"password",label:"Password Confirmation","error-state":t.v$.changePasswordForm.passwordConfirmation.$error,"on-error":"Password does not match to requirements"},null,8,["modelValue","error-state"])])),_:1},8,["state","error-message","success-message","vuelidate-object","onValidate"])])),_:1},8,["actions-disabled","onFormVisibilityToggled"])}function f(s,e,o,t,a,i){return(0,r.wg)(),(0,r.iD)("section",null,[(0,r.WI)(s.$slots,"default"),(0,r._)("div",{onClick:e[0]||(e[0]=(...s)=>i.toggleFormVisible&&i.toggleFormVisible(...s))},[(0,r.WI)(s.$slots,"action")]),a.formVisible?(0,r.WI)(s.$slots,"form",{key:0}):(0,r.kq)("",!0)])}var p={name:"AccountSection",emits:["formVisibilityToggled"],data(){return{formVisible:!1}},watch:{formVisible(s){this.$emit("formVisibilityToggled",s)}},methods:{toggleFormVisible(){this.formVisible=!this.formVisible},clearSection(){this.formVisible=!1}}},h=o(3744);const g=(0,h.Z)(p,[["render",f]]);var b=g,P=o(2416),F=o(9373),V=o(5265),v=o(7027),y={name:"ChangePasswordSection",components:{AccountSection:b},setup(){return{v$:(0,P.ZP)()}},data(){return{changePasswordForm:{password:"",passwordConfirmation:""},form:{state:null,errorMessage:"",successMessage:"",loading:!1},showFormDisabled:!1,passwordRequirements:v.Z}},computed:{randomNumberOfStars(){const s=16,e=8,o=Math.round(e+Math.random()*(s-e));return"*".repeat(o)}},methods:{async updatePassword(s){if(this.form.state=null,s===STATUS_WORDS.ERROR)return;this.form.loading=!0;const e=Object.assign({},this.changePasswordForm),o=await this.$store.dispatch("auth/updatePassword",e);o.success&&(this.toast$.success({summary:"Password successfuly updated!"}),this.form.loading=!1,this.$refs["account-section"].clearSection())},toggleShowFormDisabled(){this.showFormDisabled=!this.showFormDisabled}},validations(){return{changePasswordForm:{password:{required:F.C1,password:(0,V.Z)()},passwordConfirmation:{sameAsPassword:(0,F.sH)(this.changePasswordForm.password)}}}}};const C=(0,h.Z)(y,[["render",w]]);var _=C,S={name:"UserAccount",components:{ChangePasswordSection:_},computed:{email(){return this.$store.getters["user/userData"].email}}};const $=(0,h.Z)(S,[["render",d],["__scopeId","data-v-6d43dcb0"]]);var k=$}}]);